# JSON 格式化工具

一个基于 Rust 和 egui 开发的 JSON 格式化、压缩和编辑工具。

## 功能特性

- ✅ **JSON 格式化**：自动格式化 JSON，支持自定义缩进空格数（0~4 空格）
- ✅ **JSON 压缩**：一键压缩 JSON，移除所有空白字符
- ✅ **JSON 树形展示**：以树形结构展示 JSON 数据，支持展开/折叠
- ✅ **行号显示**：输入框左侧显示行号，支持自动换行
- ✅ **搜索功能**：在 JSON 树中搜索关键字
- ✅ **编辑功能**：右键菜单支持编辑、删除、复制路径等操作
- ✅ **剪贴板支持**：启动时自动从剪贴板读取 JSON
- ✅ **错误提示**：实时显示 JSON 解析错误

## 使用方法

### 启动程序

```bash
cargo run --release --bin jsonfmt
```

### 基本操作

1. **输入 JSON**：
   - 在左侧输入框粘贴或输入 JSON 数据
   - 程序启动时会自动尝试从剪贴板读取

2. **格式化**：
   - 点击顶部"格式化"按钮
   - 选择缩进空格数（2 或 4）

3. **压缩**：
   - 点击"压缩"按钮，移除所有空白字符

4. **复制**：
   - 点击"复制"按钮，将格式化后的 JSON 复制到剪贴板

5. **搜索**：
   - 在右侧搜索框输入关键字
   - 匹配的节点会自动展开

6. **编辑**：
   - 在右侧 JSON 树中右键点击节点
   - 选择"编辑"、"删除"等操作

## 构建

### 开发构建

```bash
cargo build --bin jsonfmt
```

### 发布构建

```bash
cargo build --release --bin jsonfmt
```

生成的可执行文件位于：`target/release/jsonfmt.exe`

## 图标设置

程序使用两个图标文件：

- `jsonfmt.png` - 窗口图标（任务栏和窗口左上角）
- `jsonfmt.ico` - 可执行文件图标（文件资源管理器）

## 技术栈

- **Rust** - 编程语言
- **eframe/egui** - GUI 框架
- **serde_json** - JSON 解析
- **egui_json_tree** - JSON 树形展示
- **arboard** - 剪贴板支持
- **image** - 图标加载

## 系统要求

- Windows 10 或更高版本
- 无需额外运行时依赖

## 许可证

MIT License
